<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>StrToDateTime</title>
<link rel="stylesheet" href="../fpdoc.css" type="text/css">

</head>
<body>
<table class="bar" width="100%" border="0" cellpadding="4" cellspacing="0">
<tr>
<td><b>[<a href="../sysutils/index.html">Overview</a>][<a href="../sysutils/index-2.html">Constants</a>][<a href="../sysutils/index-3.html">Types</a>][<a href="../sysutils/index-4.html">Classes</a>][<a href="../sysutils/index-5.html">Procedures and functions</a>][<a href="../sysutils/index-6.html">Variables</a>][<a href="../sysutils/index-8.html">Index</a>]</b></td>
<td align="right"><span class="bartitle">Reference for unit 'sysutils' (<a href="../index.html">#rtl</a>)</span></td>
</tr>
</table>
<h1>StrToDateTime</h1>
<p>Convert a date/time string to a <var>TDateTime</var> value.</p>
<h2>Declaration</h2>
<p>Source position: datih.inc line 152</p>
<table cellpadding="0" cellspacing="0">
<tr>
<td><p><tt><span class="code"><span class="kw">function</span> StrToDateTime<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>S<span class="sym">: </span>AnsiString</span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">):</span><a href="../system/tdatetime.html">TDateTime</a><span class="sym">;</span><br><br><span class="kw">function</span> StrToDateTime<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>s<span class="sym">: </span>ShortString<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>FormatSettings<span class="sym">: </span><a href="../sysutils/tformatsettings.html">TFormatSettings</a></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">):</span><a href="../system/tdatetime.html">TDateTime</a><span class="sym">;</span><br><br><span class="kw">function</span> StrToDateTime<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>s<span class="sym">: </span>AnsiString<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>FormatSettings<span class="sym">: </span><a href="../sysutils/tformatsettings.html">TFormatSettings</a></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">):</span><a href="../system/tdatetime.html">TDateTime</a><span class="sym">;</span></span></tt></p></td>
</tr>
</table>
<h2>Description</h2>
<p><var>StrToDateTime</var> converts the string <var>S</var> to a <var>TDateTime</var> date and time value. The date and time parts must be separated by a space.  </p>
<p>For the date part, the same restrictions apply as for the <a href="../sysutils/strtodate.html">StrToDate</a> function: The Date must consist of 1 to three numbers, separated by the <var>DateSeparator</var> character. If two numbers are given, they are supposed to form the day and month of the current year. If only one number is given, it is supposed to represent the day of the current month. (This is <em>not</em> supported in Delphi) </p>
<p>The order of the 3 numbers (y/m/d, m/d/y, d/m/y) is determined from the <var>ShortDateFormat</var> variable.  </p>
<h2>Errors</h2>
<p>On error (e.g. an invalid date or invalid character), an <a href="../sysutils/econverterror.html">EConvertError</a> exception is raised. </p>
<h2>See also</h2>
<table cellpadding="0" cellspacing="0">
<tr>
<td valign="top"><p><a href="../sysutils/strtodate.html">StrToDate</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Convert a date string to a <var>TDateTime</var> value.</p></td>
</tr>
<tr>
<td valign="top"><p><a href="../sysutils/strtotime.html">StrToTime</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Convert a time string to a <var>TDateTime</var> value.</p></td>
</tr>
<tr>
<td valign="top"><p><a href="../sysutils/datetimetostr.html">DateTimeToStr</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Converts a <var>TDateTime</var> value to a string using a predefined format.</p></td>
</tr>
<tr>
<td valign="top"><p><a href="../sysutils/econverterror.html">EConvertError</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Conversion error.</p></td>
</tr>
</table>
<h2>Example</h2>
<pre><span class="kw">Program</span> Example20<span class="sym">;</span>

<span class="cmt">{ This program demonstrates the StrToDateTime function }</span>

<span class="kw">Uses</span> sysutils<span class="sym">;</span>

<span class="kw">Procedure</span> TestStr <span class="sym">(</span>S <span class="sym">:</span> String<span class="sym">)</span><span class="sym">;</span>

<span class="kw">begin</span>
  Writeln <span class="sym">(</span>S<span class="sym">,</span><span class="str">' : '</span><span class="sym">,</span>DateTimeToStr<span class="sym">(</span>StrToDateTime<span class="sym">(</span>S<span class="sym">)</span><span class="sym">)</span><span class="sym">)</span><span class="sym">;</span>
<span class="kw">end</span><span class="sym">;</span>

<span class="kw">Begin</span>

  Writeln <span class="sym">(</span><span class="str">'ShortDateFormat '</span><span class="sym">,</span>ShortDateFormat<span class="sym">)</span><span class="sym">;</span>
  TestStr<span class="sym">(</span>DateTimeToStr<span class="sym">(</span>Now<span class="sym">)</span><span class="sym">)</span><span class="sym">;</span>
  TestStr<span class="sym">(</span><span class="str">'05-05-1999 15:50'</span><span class="sym">)</span><span class="sym">;</span>
  TestStr<span class="sym">(</span><span class="str">'5-5 13:30'</span><span class="sym">)</span><span class="sym">;</span>
  TestStr<span class="sym">(</span><span class="str">'5 1:30PM'</span><span class="sym">)</span><span class="sym">;</span>
<span class="kw">End</span><span class="sym">.</span>
</pre>
<hr>

<span class="footer">Documentation generated on: Sep 28 2017</span>
</body>
</html>
