<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Val</title>
<link rel="stylesheet" href="../fpdoc.css" type="text/css">

</head>
<body>
<table class="bar" width="100%" border="0" cellpadding="4" cellspacing="0">
<tr>
<td><b>[<a href="../system/index.html">Overview</a>][<a href="../system/index-2.html">Constants</a>][<a href="../system/index-3.html">Types</a>][<a href="../system/index-4.html">Classes</a>][<a href="../system/index-5.html">Procedures and functions</a>][<a href="../system/index-6.html">Variables</a>][<a href="../system/index-8.html">Index</a>]</b></td>
<td align="right"><span class="bartitle">Reference for unit 'System' (<a href="../index.html">#rtl</a>)</span></td>
</tr>
</table>
<h1>Val</h1>
<p>Calculate numerical/enumerated value of a string.</p>
<h2>Declaration</h2>
<p>Source position: system.fpd line 63</p>
<table cellpadding="0" cellspacing="0">
<tr>
<td><p><tt><span class="code"><span class="kw">procedure</span> Val<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">const </span>S<span class="sym">: </span>string<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">var </span>V<span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;<span class="kw">var </span>Code<span class="sym">: </span><a href="../system/word.html">Word</a></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">)</span><span class="sym">;</span></span></tt></p></td>
</tr>
</table>
<h2>Description</h2>
<p><var>Val</var> converts the value represented in the string <var>S</var> to a numerical value or an enumerated value, and stores this value in the variable <var>V</var>, which can be of type <var>Longint</var>, <var>Real</var> and <var>Byte</var> or any enumerated type. If the conversion isn't succesfull, then the parameter  <var>Code</var> contains the index of the character in <var>S</var> which  prevented the conversion.  The string <var>S</var> is allowed to contain spaces in the beginning. </p>
<p>The string <var>S</var> can contain a number in decimal, hexadecimal, binary or octal format, as described in the language reference. For enumerated values, the string must be the name of the enumerated value. The name is searched case insensitively. </p>
<p>For hexadecimal values, the prefix '0x' or 'x' (case insensitive) may be used as well.  </p>
<p>The conversion to enumerated exists only as of version 2.3.1 (or later) of the compiler. </p>
<h2>Errors</h2>
<p>If the conversion doesn't succeed, the value of <var>Code</var> indicates the position where the conversion went wrong. The value of <var>V</var> is then undefined. </p>
<h2>See also</h2>
<table cellpadding="0" cellspacing="0">
<tr>
<td valign="top"><p><a href="../system/str.html">Str</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Convert a numerical or enumeration value to a string.</p></td>
</tr>
</table>
<h2>Example</h2>
<pre><span class="kw">Program</span> Example74<span class="sym">;</span>

<span class="cmt">{ Program to demonstrate the Val function. }</span>
<span class="kw">Var</span> I<span class="sym">,</span> Code <span class="sym">:</span> Integer<span class="sym">;</span>

<span class="kw">begin</span>
  Val <span class="sym">(</span>ParamStr <span class="sym">(</span><span class="num">1</span><span class="sym">)</span><span class="sym">,</span>I<span class="sym">,</span>Code<span class="sym">)</span><span class="sym">;</span>
  <span class="kw">If</span> Code<span class="sym">&lt;</span><span class="sym">&gt;</span><span class="num">0</span> <span class="kw">then</span>
    Writeln <span class="sym">(</span><span class="str">'Error at position '</span><span class="sym">,</span>code<span class="sym">,</span><span class="str">' : '</span><span class="sym">,</span>Paramstr<span class="sym">(</span><span class="num">1</span><span class="sym">)</span><span class="sym">[</span>Code<span class="sym">]</span><span class="sym">)</span>
  <span class="kw">else</span>
    Writeln <span class="sym">(</span><span class="str">'Value : '</span><span class="sym">,</span>I<span class="sym">)</span><span class="sym">;</span>
<span class="kw">end</span><span class="sym">.</span>
</pre>
<hr>

<span class="footer">Documentation generated on: Sep 28 2017</span>
</body>
</html>
