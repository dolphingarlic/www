<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>GetEnumName</title>
<link rel="stylesheet" href="../fpdoc.css" type="text/css">

</head>
<body>
<table class="bar" width="100%" border="0" cellpadding="4" cellspacing="0">
<tr>
<td><b>[<a href="../typinfo/index.html">Overview</a>][<a href="../typinfo/index-2.html">Constants</a>][<a href="../typinfo/index-3.html">Types</a>][<a href="../typinfo/index-4.html">Classes</a>][<a href="../typinfo/index-5.html">Procedures and functions</a>][<a href="../typinfo/index-8.html">Index</a>]</b></td>
<td align="right"><span class="bartitle">Reference for unit 'typinfo' (<a href="../index.html">#rtl</a>)</span></td>
</tr>
</table>
<h1>GetEnumName</h1>
<p>Return name of enumeration constant.</p>
<h2>Declaration</h2>
<p>Source position: typinfo.pp line 424</p>
<table cellpadding="0" cellspacing="0">
<tr>
<td><p><tt><span class="code"><span class="kw">function</span> GetEnumName<span class="sym">(</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;TypeInfo<span class="sym">: </span><a href="../typinfo/ptypeinfo.html">PTypeInfo</a><span class="sym">;</span></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code">&nbsp;&nbsp;Value<span class="sym">: </span><a href="../system/integer.html">Integer</a></span></tt></p></td>
</tr>
<tr>
<td><p><tt><span class="code"><span class="sym">):</span>string<span class="sym">;</span></span></tt></p></td>
</tr>
</table>
<h2>Description</h2>
<p><var>GetEnumName</var> scans the type information for the enumeration type described by <var>TypeInfo</var> and returns the name of the enumeration  constant for the element with ordinal value equal to <var>Value</var>. </p>
<p>If <var>Value</var> is out of range, the first element of the enumeration type is returned. The result is returned in the case that was used in the declaration. (In earlier versions of FPC, the name was lowercased). </p>
<p>This can be used in combination with <var>GetOrdProp</var> to stream a property of an enumerated type. </p>
<h2>Errors</h2>
<p>No check is done to determine whether <var>TypeInfo</var> really points to the  type information for an enumerated type.  </p>
<h2>See also</h2>
<table cellpadding="0" cellspacing="0">
<tr>
<td valign="top"><p><a href="../typinfo/getordprop.html">GetOrdProp</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Get the value of an ordinal property</p></td>
</tr>
<tr>
<td valign="top"><p><a href="../typinfo/getenumvalue.html">GetEnumValue</a></p></td>
<td><p>&nbsp;&nbsp;</p></td>
<td><p class="cmt">Get ordinal value for enumerated type by name</p></td>
</tr>
</table>
<h2>Example</h2>
<pre><span class="kw">program</span> example9<span class="sym">;</span>

<span class="cmt">{ This program demonstrates the GetEnumName, GetEnumValue functions }</span>

<span class="dir">{$mode objfpc}</span>

<span class="kw">uses</span> rttiobj<span class="sym">,</span>typinfo<span class="sym">;</span>

<span class="kw">Var</span>
  O <span class="sym">:</span> TMyTestObject<span class="sym">;</span>
  TI <span class="sym">:</span> PTypeInfo<span class="sym">;</span>

<span class="kw">begin</span>
  O<span class="sym">:=</span>TMyTestObject<span class="sym">.</span>Create<span class="sym">;</span>
  TI<span class="sym">:=</span>GetPropInfo<span class="sym">(</span>O<span class="sym">,</span><span class="str">'MyEnumField'</span><span class="sym">)</span><span class="sym">^</span><span class="sym">.</span>PropType<span class="sym">;</span>
  Writeln<span class="sym">(</span><span class="str">'GetEnumName           : '</span><span class="sym">,</span>GetEnumName<span class="sym">(</span>TI<span class="sym">,</span>Ord<span class="sym">(</span>O<span class="sym">.</span>MyEnumField<span class="sym">)</span><span class="sym">)</span><span class="sym">)</span><span class="sym">;</span>
  Writeln<span class="sym">(</span><span class="str">'GetEnumValue(mefirst) : '</span><span class="sym">,</span>GetEnumName<span class="sym">(</span>TI<span class="sym">,</span>GetEnumValue<span class="sym">(</span>TI<span class="sym">,</span><span class="str">'mefirst'</span><span class="sym">)</span><span class="sym">)</span><span class="sym">)</span><span class="sym">;</span>
  O<span class="sym">.</span>Free<span class="sym">;</span>
<span class="kw">end</span><span class="sym">.</span>
</pre>
<hr>

<span class="footer">Documentation generated on: Sep 28 2017</span>
</body>
</html>
