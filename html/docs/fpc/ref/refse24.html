<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Initialized variables</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,4,png,sections+,fn-in --> 
<meta name="src" content="ref.tex"> 
<meta name="date" content="2017-09-28 14:25:00"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<!--l. 3211--><div class="crosslinks"><p class="noindent">[<a 
href="refse25.html" >next</a>] [<a 
href="refse23.html" >prev</a>] [<a 
href="refse23.html#tailrefse23.html" >prev-tail</a>] [<a 
href="#tailrefse24.html">tail</a>] [<a 
href="refch4.html#refse24.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
href="ref.html#QQ2-55-79" id="x55-730004.4">Initialized variables</a></h3>
<a 
 id="dx55-73001"></a>
<!--l. 3213--><p class="noindent" >By default, simple variables in Pascal are not initialized after their declaration. Any assumption
that they contain 0 or any other default value is erroneous: They can contain rubbish. To remedy
this, the concept of initialized variables exists. The difference with normal variables is that
their declaration includes an initial value, as can be seen in the diagram in the previous
section.
<!--l. 3219--><p class="noindent" >Managed types are an exception to this rule: Managed types are always initialized: in general this
means setting the reference count to zero, or setting the pointer value of the type to <span 
class="cmtt-10">Nil</span>. See
section <a 
href="refse20.html#x50-680003.9">3.9<!--tex4ht:ref: se:managedtypes --></a>, page <a 
href="refse20.html#x50-680003.9">215<!--tex4ht:ref: se:managedtypes --></a>
<!--l. 3223--><p class="noindent" >Given the declaration:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-121">
Var
&#x00A0;<br />&#x00A0;&#x00A0;S&#x00A0;:&#x00A0;String&#x00A0;=&#x00A0;&#8217;This&#x00A0;is&#x00A0;an&#x00A0;initialized&#x00A0;string&#8217;;
</div>
<!--l. 3227--><p class="nopar" >The value of the variable following will be initialized with the provided value. The following is an
even better way of doing this:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-122">
Const
&#x00A0;<br />&#x00A0;&#x00A0;SDefault&#x00A0;=&#x00A0;&#8217;This&#x00A0;is&#x00A0;an&#x00A0;initialized&#x00A0;string&#8217;;
&#x00A0;<br />
&#x00A0;<br />Var
&#x00A0;<br />&#x00A0;&#x00A0;S&#x00A0;:&#x00A0;String&#x00A0;=&#x00A0;SDefault;
</div>
<!--l. 3236--><p class="nopar" >Initialization is often used to initialize arrays and records. For arrays, the initialized elements must
be specified, surrounded by round brackets, and separated by commas. The number of initialized
elements must be exactly the same as the number of elements in the declaration of the type. As an
example:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-123">
Var
&#x00A0;<br />&#x00A0;&#x00A0;tt&#x00A0;:&#x00A0;array&#x00A0;[1..3]&#x00A0;of&#x00A0;string[20]&#x00A0;=&#x00A0;(&#8217;ikke&#8217;,&#x00A0;&#8217;gij&#8217;,&#x00A0;&#8217;hij&#8217;);
&#x00A0;<br />&#x00A0;&#x00A0;ti&#x00A0;:&#x00A0;array&#x00A0;[1..3]&#x00A0;of&#x00A0;Longint&#x00A0;=&#x00A0;(1,2,3);
</div>
<!--l. 3246--><p class="nopar" >For constant records, each element of the record should be specified, in the form <span 
class="cmtt-10">Field: Value</span>,
separated by semicolons, and surrounded by round brackets.<a 
 id="dx55-73002"></a> As an example:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-124">
Type
&#x00A0;<br />&#x00A0;&#x00A0;Point&#x00A0;=&#x00A0;record
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;X,Y&#x00A0;:&#x00A0;Real
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;end;
&#x00A0;<br />Var
&#x00A0;<br />&#x00A0;&#x00A0;Origin&#x00A0;:&#x00A0;Point&#x00A0;=&#x00A0;(X:0.0;&#x00A0;Y:0.0);
</div>
<!--l. 3258--><p class="nopar" >The order of the fields in a constant record needs to be the same as in the type declaration,
otherwise a compile-time error will occur.
<!--l. 3262--><p class="noindent" ><span 
class="cmbx-10">Remark:</span> It should be stressed that initialized variables are initialized when they come into scope, in
difference with typed constants, which are initialized at program start. This is also true for <span 
class="cmti-10">local</span>
initialized variables. Local initialized variables are initialized whenever the routine is called. Any
changes that occurred in the previous invocation of the routine will be undone, because they are
again initialized.
<!--l. 3272--><p class="noindent" ><span 
class="cmbx-10">Remark:</span> Care should be taken when using initialized pointer types such as <span 
class="cmtt-10">PChars</span>. In the following
examples, <span 
class="cmtt-10">S </span>is a pointer, pointing to a block of constant (read-only) program data. Assigning
<span 
class="cmtt-10">S</span>
<center class="math-display" >
<img 
src="ref54x.png" alt="0
" class="math-display" ></center>
<!--l. 3276--><p class="nopar" > will therefor not work. Assigning <span 
class="cmtt-10">S </span>itself will of course work.
                                                                            

                                                                            
<div class="verbatim" id="verbatim-125">
procedure&#x00A0;foo1;
&#x00A0;<br />var
&#x00A0;<br />&#x00A0;&#x00A0;s:&#x00A0;PChar&#x00A0;=&#x00A0;&#8217;PChar&#8217;;
&#x00A0;<br />begin
&#x00A0;<br />&#x00A0;&#x00A0;s[0]&#x00A0;:=&#x00A0;&#8217;a&#8217;;
&#x00A0;<br />end;
&#x00A0;<br />
&#x00A0;<br />procedure&#x00A0;foo2;
&#x00A0;<br />var
&#x00A0;<br />&#x00A0;&#x00A0;s:&#x00A0;PChar;
&#x00A0;<br />begin
&#x00A0;<br />&#x00A0;&#x00A0;s&#x00A0;:=&#x00A0;&#8217;PChar&#8217;;
&#x00A0;<br />&#x00A0;&#x00A0;s[0]&#x00A0;:=&#x00A0;&#8217;a&#8217;;
&#x00A0;<br />end;
</div>
<!--l. 3293--><p class="nopar" >
                                                                            

                                                                            
<!--l. 3296--><div class="crosslinks"><p class="noindent">[<a 
href="refse25.html" >next</a>] [<a 
href="refse23.html" >prev</a>] [<a 
href="refse23.html#tailrefse23.html" >prev-tail</a>] [<a 
href="refse24.html" >front</a>] [<a 
href="refch4.html#refse24.html" >up</a>] </p></div>
<!--l. 3296--><p class="noindent" ><a 
 id="tailrefse24.html"></a>  
</body></html> 
