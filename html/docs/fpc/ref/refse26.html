<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Thread Variables</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,4,png,sections+,fn-in --> 
<meta name="src" content="ref.tex"> 
<meta name="date" content="2017-09-28 14:25:00"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<!--l. 3358--><div class="crosslinks"><p class="noindent">[<a 
href="refse27.html" >next</a>] [<a 
href="refse25.html" >prev</a>] [<a 
href="refse25.html#tailrefse25.html" >prev-tail</a>] [<a 
href="#tailrefse26.html">tail</a>] [<a 
href="refch4.html#refse26.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">4.6   </span> <a 
href="ref.html#QQ2-57-81" id="x57-750004.6">Thread Variables</a></h3>
<a 
 id="dx57-75001"></a>
<a 
 id="dx57-75002"></a>
<!--l. 3359--><p class="noindent" ><a name="keyword_threadvar"></a> For a program which uses threads, the variables can be really global, i.e. the same for all threads,
or thread-local: this means that each thread gets a copy of the variable. Local variables (defined
inside a procedure) are always thread-local. Global variables are normally the same for all threads.
A global variable can be declared thread-local by replacing the <span 
class="cmtt-10">var </span>keyword at the start of the
variable declaration block with <span 
class="cmtt-10">Threadvar</span>:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-128">
Threadvar
&#x00A0;<br />&#x00A0;&#x00A0;IOResult&#x00A0;:&#x00A0;Integer;
</div>
<!--l. 3369--><p class="nopar" >If no threads are used, the variable behaves as an ordinary variable. If threads are used then a copy
is made for each thread (including the main thread). Note that the copy is made with the
original value of the variable, <span 
class="cmti-10">not </span>with the value of the variable at the time the thread is
started.
<!--l. 3376--><p class="noindent" >Threadvars should be used sparingly: There is an overhead for retrieving or setting the variable&#8217;s
value. If possible at all, consider using local variables; they are always faster than thread
variables.
<!--l. 3380--><p class="noindent" >Threads are not enabled by default. For more information about programming threads, see the
chapter on threads in the <a 
href="../prog/prog.html" >Programmer&#8217;s Guide</a>.
                                                                            

                                                                            
<!--l. 3383--><div class="crosslinks"><p class="noindent">[<a 
href="refse27.html" >next</a>] [<a 
href="refse25.html" >prev</a>] [<a 
href="refse25.html#tailrefse25.html" >prev-tail</a>] [<a 
href="refse26.html" >front</a>] [<a 
href="refch4.html#refse26.html" >up</a>] </p></div>
<!--l. 3383--><p class="noindent" ><a 
 id="tailrefse26.html"></a>  
</body></html> 
