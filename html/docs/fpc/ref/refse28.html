<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Declaration</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,4,png,sections+,fn-in --> 
<meta name="src" content="ref.tex"> 
<meta name="date" content="2017-09-28 14:25:00"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<!--l. 3501--><div class="crosslinks"><p class="noindent">[<a 
href="refse29.html" >next</a>] [<a 
href="#tailrefse28.html">tail</a>] [<a 
href="refch5.html#refse28.html" >up</a>] </p></div>
<h3 class="sectionHead"><span class="titlemark">5.1   </span> <a 
href="ref.html#QQ2-60-84" id="x60-780005.1">Declaration</a></h3>
<!--l. 3502--><p class="noindent" >Free Pascal supports object oriented programming. In fact, most of the compiler is written using
objects. Here we present some technical questions regarding object oriented programming in Free
Pascal.
<!--l. 3506--><p class="noindent" >Objects should be treated as a special kind of record. The record contains all the fields that are
declared in the objects definition, and pointers to the methods that are associated to the objects&#8217;
type.
<!--l. 3510--><p class="noindent" >An object is declared just as a record would be declared; except that now, procedures and
functions can be declared as if they were part of the record. Objects can &#8221;inherit&#8221; fields and
methods from &#8221;parent&#8221; objects. This means that these fields and methods can be used as if they
were included in the objects declared as a &#8221;child&#8221; object.
<!--l. 3516--><p class="noindent" >Furthermore, a concept of visibility <a 
 id="dx60-78001"></a>is introduced: fields, procedures and functions can be declared
as <span 
class="cmtt-10">public</span>, <span 
class="cmtt-10">protected </span>or <span 
class="cmtt-10">private</span>. By default, fields and methods are <span 
class="cmtt-10">public</span>, and are exported
outside the current unit. <a 
 id="dx60-78002"></a><a 
 id="dx60-78003"></a>
<!--l. 3523--><p class="noindent" >Fields or methods that are declared <span 
class="cmtt-10">private </span>are only accessible in the current unit: their scope is
limited to the implementation of the current unit.<a 
 id="dx60-78004"></a>
<!--l. 3527--><p class="noindent" >The prototype declaration of an object is as follows: <a 
 id="dx60-78005"></a><a name="keyword_object"></a>
     <div class="quote">
     <!--l. 1--><p class="noindent" >_________________________________________________________________________________________________________<br 
class="newline" /><span 
class="cmbx-10">object types</span><br 
class="newline" /><BR/><img 
src="ref64x.png" alt="------------      -----------            --    ------------------
  -packed -|object  heritage| -component list-|end
     " ><BR/>
     <BR/><img 
src="ref65x.png" alt="--       - -                 -  --------------------------------
  heritage  (  object type identifier )
     " ><BR/>
     <BR/><img 
src="ref66x.png" alt=" --component list-|---------------------|------------------
                -object visibility specifier  -|const definition---
                                        --------------
------------------------------------------------------------------
    -field-definition--|   -method definition-|
     " ><BR/>
     <BR/><img 
src="ref67x.png" alt="--field definition--|--------------identifier list :-type-; -|------------
               ---------var--                       - static;--
                 class
     " ><BR/>
     <BR/><img 
src="ref68x.png" alt="--const definition- const- identifier-= - constant expression-; ------------
     " ><BR/>
     <BR/><img 
src="ref69x.png" alt="--object visibility specifier-|-private-----------------------------------
                      |protected--|
                      --public ---
     " ><BR/>
     ___________________________________________________________________</div>
<!--l. 3530--><p class="noindent" >As can be seen, as many <span 
class="cmtt-10">private </span>and <span 
class="cmtt-10">public </span>blocks as needed can be declared.<a 
 id="dx60-78006"></a><a 
 id="dx60-78007"></a>
<!--l. 3533--><p class="noindent" >The following is a valid definition of an object:
                                                                            

                                                                            
<div class="verbatim" id="verbatim-132">
Type
&#x00A0;<br />&#x00A0;&#x00A0;TObj&#x00A0;=&#x00A0;object
&#x00A0;<br />&#x00A0;&#x00A0;Private
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Caption&#x00A0;:&#x00A0;ShortString;
&#x00A0;<br />&#x00A0;&#x00A0;Public
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Constructor&#x00A0;init;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Destructor&#x00A0;done;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Procedure&#x00A0;SetCaption&#x00A0;(AValue&#x00A0;:&#x00A0;String);
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Function&#x00A0;GetCaption&#x00A0;:&#x00A0;String;
&#x00A0;<br />&#x00A0;&#x00A0;end;
</div>
<!--l. 3545--><p class="nopar" >It contains a constructor/destructor pair, and a method to get and set a caption. The <span 
class="cmtt-10">Caption</span>
field is private to the object: it cannot be accessed outside the unit in which <span 
class="cmtt-10">TObj </span>is
declared.
<!--l. 3550--><p class="noindent" ><span 
class="cmbx-10">Remark:</span> In MacPas mode, the <span 
class="cmtt-10">Object </span>keyword is replaced by the <span 
class="cmtt-10">class </span>keyword for compatibility with
other pascal compilers available on the Mac. That means that objects cannot be used in MacPas
mode.
<!--l. 3555--><p class="noindent" ><span 
class="cmbx-10">Remark:</span><a 
 id="dx60-78008"></a> Free Pascal also supports the packed object. This is the same as an object, only the elements
(fields) of the object are byte-aligned, just as in the packed record. The declaration of a packed
object is similar to the declaration of a packed record :
                                                                            

                                                                            
<div class="verbatim" id="verbatim-133">
Type
&#x00A0;<br />&#x00A0;&#x00A0;TObj&#x00A0;=&#x00A0;packed&#x00A0;object
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;Constructor&#x00A0;init;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;...
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;end;
&#x00A0;<br />&#x00A0;&#x00A0;Pobj&#x00A0;=&#x00A0;^TObj;
&#x00A0;<br />Var&#x00A0;PP&#x00A0;:&#x00A0;Pobj;
</div>
<!--l. 3569--><p class="nopar" >Similarly, the <span 
class="cmsy-10">{</span><span 
class="cmtt-10">$PackRecords </span><span 
class="cmsy-10">} </span>directive acts on objects as well.
                                                                            

                                                                            
<!--l. 3575--><div class="crosslinks"><p class="noindent">[<a 
href="refse29.html" >next</a>] [<a 
href="refse28.html" >front</a>] [<a 
href="refch5.html#refse28.html" >up</a>] </p></div>
<!--l. 3575--><p class="noindent" ><a 
 id="tailrefse28.html"></a>  
</body></html> 
