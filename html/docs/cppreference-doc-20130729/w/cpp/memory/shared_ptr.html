<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from en.cppreference.com/w/cpp/memory/shared_ptr by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 29 Jul 2013 02:07:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>std::shared_ptr - cppreference.com</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit" />
<link rel="edit" title="Edit" href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit" />
<link rel="shortcut icon" href="../../../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../../../mwiki/opensearch_desc.php" title="cppreference.com (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://en.cppreference.com/mwiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="cppreference.com Atom feed" href="http://en.cppreference.com/mwiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../../../mwiki/load202e.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.cppreference2&amp;only=styles&amp;skin=cppreference2&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../../../mwiki/load7fe1.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=cppreference2&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}#toc{display:none}.editsection{display:none}

/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:4:b677bc2b5ec37947892a2d0853532528 */</style>
<script src="../../../mwiki/load404e.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "cpp/memory/shared_ptr", "wgTitle": "cpp/memory/shared ptr", "wgCurRevisionId": 63345, "wgArticleId": 2177, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_memory_shared_ptr action-view skin-cppreference2 cpp-navbar">
        <!-- header -->
        <div id="mw-head" class="noprint">
            <div id="cpp-head-first-base">
                <div id="cpp-head-first">
                    <h5><a href="../../../index.html">cppreference.com</a></h5>
                    <div id="cpp-head-search">
                        
<!-- 0 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://en.cppreference.com/mwiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Special:Search"/>
				<div id="simpleSearch">
						<input name="search" title="Search cppreference.com [f]" accesskey="f" id="searchInput" />						<button name="button" title="Search the pages for this text" id="searchButton"><img src="../../../mwiki/skins/cppreference2/images/search-ltr11b9.png?303" alt="Search" /></button>					</div>
			</form>
</div>

<!-- /0 -->
                    </div>
                    <div id="cpp-head-personal">
                        
<!-- 0 -->
<div id="p-personal" class="">
<span id="pt-login"><a href="http://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=cpp%2Fmemory%2Fshared+ptr" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></span></div>

<!-- /0 -->
                    </div>

                </div>
            </div>
            <div id="cpp-head-second-base">
                <div id="cpp-head-second">
                    <div id="cpp-head-tools-left">
                        
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="shared_ptr.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk"><span><a href="http://en.cppreference.com/w/Talk:cpp/memory/shared_ptr"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                    <div id="cpp-head-tools-right">
                        
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="shared_ptr.html" >View</a></span></li>
					<li id="ca-edit"><span><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit"  title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /header -->
        <!-- content -->
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
                <h1 id="firstHeading" class="firstHeading"><span style="font-size:0.7em; line-height:130%">std::</span>shared_ptr</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">From cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../../cpp.html" title="cpp">cpp</a> | <a href="../memory.html" title="cpp/memory">memory</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div lang="en" dir="ltr" class="mw-content-ltr"><div class="t-navbar" style=""><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="../../cpp.html" title="cpp"> C++</a><div class="t-navbar-menu"><div><div>
<table class="t-nv-begin" cellpadding="0" style="line-height:1.1em;">

<tr>
<td colspan="5">  <a href="../language.html" title="cpp/language"> Language</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../header.html" title="cpp/header"> Standard library headers</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../concept.html" title="cpp/concept"> Concepts</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../utility.html" title="cpp/utility"> Utilities library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../string.html" title="cpp/string"> Strings library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../container.html" title="cpp/container"> Containers library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../algorithm.html" title="cpp/algorithm"> Algorithms library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../iterator.html" title="cpp/iterator"> Iterators library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../numeric.html" title="cpp/numeric"> Numerics library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../io.html" title="cpp/io"> Input/output library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../locale.html" title="cpp/locale"> Localizations library</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../regex.html" title="cpp/regex"> Regular expressions library</a> <span class="t-mark">(C++11)</span>
</td></tr>

<tr>
<td colspan="5">  <a href="../atomic.html" title="cpp/atomic"> Atomic operations library</a> <span class="t-mark">(C++11)</span>
</td></tr>

<tr>
<td colspan="5">  <a href="../thread.html" title="cpp/thread"> Thread support library</a> <span class="t-mark">(C++11)</span>
</td></tr>
</table>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="../utility.html" title="cpp/utility"> Utilities library</a><div class="t-navbar-menu"><div><div>
<table class="t-nv-begin" cellpadding="0" style="">

<tr>
<td colspan="5">  <a href="../types.html" title="cpp/types"> Type support</a> (basic types, RTTI, type traits)
</td></tr>

<tr>
<td colspan="5">  <a href="../memory.html" title="cpp/memory"> Dynamic memory management</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../error.html" title="cpp/error"> Error handling</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../utility/program.html" title="cpp/utility/program"> Program utilities</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../utility/variadic.html" title="cpp/utility/variadic"> Variadic functions</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../chrono.html" title="cpp/chrono"> Date and time</a>
</td></tr>

<tr>
<td colspan="5">  <a href="../utility/functionalhtml.html" title="cpp/utility/functional"> Function objects</a>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/initializer_list.html" title="cpp/utility/initializer list">initializer_list</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/bitset.html" title="cpp/utility/bitset">bitset</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/hash.html" title="cpp/utility/hash">hash</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr class="t-nv-h2">
<td colspan="5">  Relational operators
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/rel_ops/operator_cmp.html" title="cpp/utility/rel ops/operator cmp">rel_ops::operator!=<br />rel_ops::operator&gt;<br />rel_ops::operator&lt;=<br />rel_ops::operator&gt;=</a></td></tr></table>
</td></tr>

<tr class="t-nv-h2">
<td colspan="5">  Pairs and tuples
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/pair.html" title="cpp/utility/pair">pair</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/tuple.html" title="cpp/utility/tuple">tuple</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/piecewise_construct_t.html" title="cpp/utility/piecewise construct t">piecewise_construct_t</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/piecewise_construct.html" title="cpp/utility/piecewise construct">piecewise_construct</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr class="t-nv-h2">
<td colspan="5">  Swap, forward and move
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../algorithm/swap.html" title="cpp/algorithm/swap">swap</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/forward.html" title="cpp/utility/forward">forward</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/move.html" title="cpp/utility/move">move</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/move_if_noexcept.html" title="cpp/utility/move if noexcept">move_if_noexcept</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="../utility/declval.html" title="cpp/utility/declval">declval</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>
</table>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="../memory.html" title="cpp/memory"> Dynamic memory management</a><div class="t-navbar-menu"><div><div>
<table class="t-nv-begin" cellpadding="0" style="">

<tr class="t-nv-h1">
<td colspan="5">  Smart pointers
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="unique_ptr.html" title="cpp/memory/unique ptr">unique_ptr</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><strong class="selflink">shared_ptr</strong></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="weak_ptr.html" title="cpp/memory/weak ptr">weak_ptr</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="auto_ptr.html" title="cpp/memory/auto ptr">auto_ptr</a></td><td><span class="t-mark">(deprecated)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="owner_less.html" title="cpp/memory/owner less">owner_less</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="enable_shared_from_this.html" title="cpp/memory/enable shared from this">enable_shared_from_this</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="bad_weak_ptr.html" title="cpp/memory/bad weak ptr">bad_weak_ptr</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="default_delete.html" title="cpp/memory/default delete">default_delete</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  Allocators
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="allocator.html" title="cpp/memory/allocator">allocator</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="allocator_traits.html" title="cpp/memory/allocator traits">allocator_traits</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="allocator_arg_t.html" title="cpp/memory/allocator arg t">allocator_arg_t</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="allocator_arg.html" title="cpp/memory/allocator arg">allocator_arg</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="uses_allocator.html" title="cpp/memory/uses allocator">uses_allocator</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="scoped_allocator_adaptor.html" title="cpp/memory/scoped allocator adaptor">scoped_allocator_adaptor</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  Uninitialized storage
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="uninitialized_copy.html" title="cpp/memory/uninitialized copy">uninitialized_copy</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="uninitialized_copy_n.html" title="cpp/memory/uninitialized copy n">uninitialized_copy_n</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="uninitialized_fill.html" title="cpp/memory/uninitialized fill">uninitialized_fill</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="uninitialized_fill_n.html" title="cpp/memory/uninitialized fill n">uninitialized_fill_n</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="raw_storage_iterator.html" title="cpp/memory/raw storage iterator">raw_storage_iterator</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="get_temporary_buffer.html" title="cpp/memory/get temporary buffer">get_temporary_buffer</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="return_temporary_buffer.html" title="cpp/memory/return temporary buffer">return_temporary_buffer</a></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  Garbage collection support
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/declare_reachable.html" title="cpp/memory/gc/declare reachable">declare_reachable</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/undeclare_reachable.html" title="cpp/memory/gc/undeclare reachable">undeclare_reachable</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/declare_no_pointers.html" title="cpp/memory/gc/declare no pointers">declare_no_pointers</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/undeclare_no_pointers.html" title="cpp/memory/gc/undeclare no pointers">undeclare_no_pointers</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/pointer_safety.html" title="cpp/memory/gc/pointer safety">pointer_safety</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="gc/get_pointer_safety.html" title="cpp/memory/gc/get pointer safety">get_pointer_safety</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  Miscellaneous
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="pointer_traits.html" title="cpp/memory/pointer traits">pointer_traits</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="addressof.html" title="cpp/memory/addressof">addressof</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="align.html" title="cpp/memory/align">align</a></td><td><span class="t-mark">(C++11)</span></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  <a href="c.html" title="cpp/memory/c">C Library</a>
</td></tr>
<tr>
<td>
</td></tr>
<tr>
<td>
<div>
<table class="t-nv-begin" cellpadding="0" style="">

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="c/malloc.html" title="cpp/memory/c/malloc">malloc</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="c/calloc.html" title="cpp/memory/c/calloc">calloc</a></td></tr></table>
</td></tr>
</table>
</div>
</td>
<td>
<div>
<table class="t-nv-begin" cellpadding="0" style="">

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="c/realloc.html" title="cpp/memory/c/realloc">realloc</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="c/free.html" title="cpp/memory/c/free">free</a></td></tr></table>
</td></tr>
</table>
</div>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  <a href="new.html" title="cpp/memory/new">Low level memory management</a>
</td></tr>
</table>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><strong class="selflink"><tt>std::shared_ptr</tt></strong><div class="t-navbar-menu"><div><div>
<table class="t-nv-begin" cellpadding="0" style="">

<tr class="t-nv-h1">
<td colspan="5">  Member functions
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/shared_ptr.html" title="cpp/memory/shared ptr/shared ptr">shared_ptr::shared_ptr</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/_shared_ptr.html" title="cpp/memory/shared ptr/~shared ptr">shared_ptr::~shared_ptr</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/operator%3d.html" title="cpp/memory/shared ptr/operator=">shared_ptr::operator=</a></td></tr></table>
</td></tr>


<tr class="t-nv-h2">
<td colspan="5">  Modifiers
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/reset.html" title="cpp/memory/shared ptr/reset">shared_ptr::reset</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/swap.html" title="cpp/memory/shared ptr/swap">shared_ptr::swap</a></td></tr></table>
</td></tr>


<tr class="t-nv-h2">
<td colspan="5">  Observers
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/get.html" title="cpp/memory/shared ptr/get">shared_ptr::get</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/operator_.html" title="cpp/memory/shared ptr/operator*">shared_ptr::operator*<br />shared_ptr::operator-&gt;</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/use_count.html" title="cpp/memory/shared ptr/use count">shared_ptr::use_count</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/unique.html" title="cpp/memory/shared ptr/unique">shared_ptr::unique</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/operator_bool.html" title="cpp/memory/shared ptr/operator bool">shared_ptr::operator bool</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/owner_before.html" title="cpp/memory/shared ptr/owner before">shared_ptr::owner_before</a></td></tr></table>
</td></tr>


<tr class="t-nv-h1">
<td colspan="5">  Non-member functions
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/swap2.html" title="cpp/memory/shared ptr/swap2">std::swap</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/make_shared.html" title="cpp/memory/shared ptr/make shared">make_shared</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/allocate_shared.html" title="cpp/memory/shared ptr/allocate shared">allocate_shared</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/pointer_cast.html" title="cpp/memory/shared ptr/pointer cast">static_pointer_cast<br />dynamic_pointer_cast<br />const_pointer_cast</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/get_deleter.html" title="cpp/memory/shared ptr/get deleter">get_deleter</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/operator_cmp.html" title="cpp/memory/shared ptr/operator cmp">operator==<br />operator|=<br />operator&lt;<br />operator&lt;=<br />operator&gt;<br />operator&gt;=</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/operator_ltlt.html" title="cpp/memory/shared ptr/operator ltlt">operator&lt;&lt;</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/atomic.html" title="cpp/memory/shared ptr/atomic">atomic_is_lock_free<br />atomic_load<br />atomic_load_explicit<br />atomic_store<br />atomic_store_explicit<br />atomic_exchange<br />atomic_exchange_explicit<br />atomic_compare_exchange_weak<br />atomic_compare_exchange_strong<br />atomic_compare_exchange_weak_explicit<br />atomic_compare_exchange_strong_explicit</a></td></tr></table>
</td></tr>

<tr>
<td colspan="5"> <table class="t-nv-ln-table"><tr><td><a href="shared_ptr/hash.html" title="cpp/memory/shared ptr/hash">std::hash</a></td></tr></table>
</td></tr>
</table>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div></div>
<table class="t-dcl-begin"><tbody>
<tr class="t-dsc-header">
<td> <div>Defined in header <tt>&lt;memory&gt;</tt>
 </div></td>
<td></td>
<td></td>
</tr><tr class="t-dcl-sep"><td></td><td></td><td></td></tr>
<tr class="t-dcl t-dcl-since-cxx11">
<td> <div><span class="mw-geshi cpp source-cpp"><span class="kw1">template</span><span class="sy1">&lt;</span> <span class="kw1">class</span> T <span class="sy1">&gt;</span> <span class="kw1">class</span> shared_ptr<span class="sy4">;</span></span></div></td>
<td class="t-dcl-nopad">  </td>
<td> <span class="t-mark">(since C++11)</span> </td>
</tr>
<tr class="t-dcl-sep"><td></td><td></td><td></td></tr>
</tbody></table>
<p><code>std::shared_ptr</code> is a smart pointer that retains shared ownership of an object through a pointer. Several <code>shared_ptr</code> objects may own the same object. The object is destroyed and its memory deallocated when either of the following happens:
</p>
<ul><li> the last remaining <code>shared_ptr</code> owning the object is destroyed.
</li></ul>
<ul><li> the last remaining <code>shared_ptr</code> owning the object is assigned another pointer via <a href="shared_ptr/operator%3d.html" title="cpp/memory/shared ptr/operator="><code>operator=()</code></a> or <a href="shared_ptr/reset.html" title="cpp/memory/shared ptr/reset"><code>reset()</code></a>. 
</li></ul>
<p>The object is destroyed using <a href="../language/delete.html" title="cpp/language/delete"><tt>delete-expression</tt></a> or a custom deleter that is supplied to <code>shared_ptr</code> during construction.
</p><p>A <code>shared_ptr</code> can share ownership of an object while storing a pointer to another object. This feature can be used to point to member objects while owning the object they belong to.
</p><p>A <code>shared_ptr</code> may also own no objects, in which case it is called <i>empty</i>.
</p><p><code>shared_ptr</code> meets the requirements of <a href="../concept/CopyConstructible.html" title="cpp/concept/CopyConstructible"><code>CopyConstructible</code></a> and <a href="../concept/CopyAssignable.html" title="cpp/concept/CopyAssignable"><code>CopyAssignable</code></a>.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Member_types"><span class="tocnumber">1</span> <span class="toctext">Member types</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Member_functions"><span class="tocnumber">2</span> <span class="toctext">Member functions</span></a>
<ul>
<li class="toclevel-2"><a href="#Modifiers"><span class="tocnumber">2.1</span> <span class="toctext">Modifiers</span></a></li>
<li class="toclevel-2"><a href="#Observers"><span class="tocnumber">2.2</span> <span class="toctext">Observers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Non-member_functions"><span class="tocnumber">3</span> <span class="toctext">Non-member functions</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Helper_classes"><span class="tocnumber">4</span> <span class="toctext">Helper classes</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Notes"><span class="tocnumber">5</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Implementation_notes"><span class="tocnumber">6</span> <span class="toctext">Implementation notes</span></a></li>
</ul>
</td></tr></table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=1" title="Edit section: Member types">edit</a>]</span> <span class="mw-headline" id="Member_types">Member types</span></h3>
<table class="t-dsc-begin">

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc-hitem">
<td>  Member type
</td>
<td>  Definition
</td></tr>


<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <span class="t-c"><span class="mw-geshi cpp source-cpp">element_type</span></span>
</td>
<td>  <span class="t-c"><span class="mw-geshi cpp source-cpp">T</span></span>
</td></tr>

</table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=2" title="Edit section: Member functions">edit</a>]</span> <span class="mw-headline" id="Member_functions">Member functions</span></h3>
<table class="t-dsc-begin">

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div t-dsc-member-nobold-div"><div><a href="shared_ptr/shared_ptr.html" title="cpp/memory/shared ptr/shared ptr"> (constructor)</a></div></div>
</td>
<td>  constructs new <code>shared_ptr</code> <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_constructor&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div t-dsc-member-nobold-div"><div><a href="shared_ptr/_shared_ptr.html" title="cpp/memory/shared ptr/~shared ptr"> (destructor)</a></div></div>
</td>
<td>  destructs the owned object if no more <code>shared_ptr</code>s link to it <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_destructor&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/operator%3d.html" title="cpp/memory/shared ptr/operator="> operator=</a></div></div>
</td>
<td>   assigns the <code>shared_ptr</code>  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_operator%3D&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>


<tr>
<td colspan="2"> <h5> <span class="mw-headline" id="Modifiers">  Modifiers </span></h5>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/reset.html" title="cpp/memory/shared ptr/reset"> reset</a></div></div>
</td>
<td>   replaces the managed object  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_reset&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/swap.html" title="cpp/memory/shared ptr/swap"> swap</a></div></div>
</td>
<td>   swaps the managed objects  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_swap&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>


<tr>
<td colspan="2"> <h5> <span class="mw-headline" id="Observers">  Observers </span></h5>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/get.html" title="cpp/memory/shared ptr/get"> get</a></div></div>
</td>
<td>   returns a pointer to the managed object  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_get&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/operator_.html" title="cpp/memory/shared ptr/operator*"> operator*<br />operator-&gt;</a></div></div>
</td>
<td>   dereferences pointer to the managed object  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_operator*&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/use_count.html" title="cpp/memory/shared ptr/use count"> use_count</a></div></div>
</td>
<td>   returns the number of <code>shared_ptr</code> objects referring to the same managed object  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_use_count&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/unique.html" title="cpp/memory/shared ptr/unique"> unique</a></div></div>
</td>
<td>   checks whether the managed object is managed only by the current <code>shared_ptr</code> instance  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_unique&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/operator_bool.html" title="cpp/memory/shared ptr/operator bool"> operator bool</a></div></div>
</td>
<td>   checks if there is associated managed object  <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_operator_bool&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/owner_before.html" title="cpp/memory/shared ptr/owner before"> owner_before</a></div></div>
</td>
<td>   provides owner-based ordering of shared pointers <br /> <span class="t-mark">(public member function)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_owner_before&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>
</table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=3" title="Edit section: Non-member functions">edit</a>]</span> <span class="mw-headline" id="Non-member_functions">Non-member functions</span></h3>
<table class="t-dsc-begin">

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/make_shared.html" title="cpp/memory/shared ptr/make shared"> make_shared</a></div></div>
</td>
<td>   creates a shared pointer that manages a new object <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_make_shared&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/allocate_shared.html" title="cpp/memory/shared ptr/allocate shared"> allocate_shared</a></div></div>
</td>
<td>   creates a shared pointer that manages a new object allocated using an allocator <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_allocate_shared&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/pointer_cast.html" title="cpp/memory/shared ptr/pointer cast"> static_pointer_cast<br />dynamic_pointer_cast<br />const_pointer_cast</a></div></div>
</td>
<td>   applies <a href="../language/static_cast.html" title="cpp/language/static cast"><tt>static_cast</tt></a>, <a href="../language/dynamic_cast.html" title="cpp/language/dynamic cast"><tt>dynamic_cast</tt></a> or <a href="../language/const_cast.html" title="cpp/language/const cast"><tt>const_cast</tt></a> to the type of the managed object <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_pointer_cast&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/get_deleter.html" title="cpp/memory/shared ptr/get deleter"> get_deleter</a></div></div>
</td>
<td>   returns the deleter of specified type, if owned  <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_get_deleter&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/operator_cmp.html" title="cpp/memory/shared ptr/operator cmp"> operator==<br />operator!=<br />operator&lt;<br />operator&lt;=<br />operator&gt;<br />operator&gt;=</a></div></div>
</td>
<td>   compares with another <code>shared_ptr</code> or with <span class="t-c"><span class="mw-geshi cpp source-cpp">nullptr</span></span>  <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_operator_cmp&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/operator_ltlt.html" title="cpp/memory/shared ptr/operator ltlt"> operator&lt;&lt;</a></div></div>
</td>
<td>   outputs the value of the managed pointer to an output stream <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_operator_ltlt&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/swap2.html" title="cpp/memory/shared ptr/swap2"> std::swap<span class="t-dsc-small">(std::shared_ptr)</span></a></div><div><span class="t-mark">(C++11)</span></div></div>
</td>
<td>   specializes the <span class="t-lc"><a href="../algorithm/swap.html" title="cpp/algorithm/swap">std::swap</a></span> algorithm  <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_swap2&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>
</table>
<table class="t-dsc-begin">


<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/atomic.html" title="cpp/memory/shared ptr/atomic"> std::atomic_is_lock_free<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_load<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_load_explicit<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_store<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_store_explicit<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_exchange<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_exchange_explicit<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_compare_exchange_weak<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_compare_exchange_strong<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_compare_exchange_weak_explicit<span class="t-dsc-small">(std::shared_ptr)</span><br />std::atomic_compare_exchange_strong_explicit<span class="t-dsc-small">(std::shared_ptr)</span></a></div></div>
</td>
<td>   specializes atomic operations  <br /> <span class="t-mark">(function template)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_atomic&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>
</table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=4" title="Edit section: Helper classes">edit</a>]</span> <span class="mw-headline" id="Helper_classes">Helper classes</span></h3>
<table class="t-dsc-begin">

<tr class="t-dsc-sep">
<td colspan="2">
</td></tr>
<tr class="t-dsc">
<td>  <div class="t-dsc-member-div"><div><a href="shared_ptr/hash.html" title="cpp/memory/shared ptr/hash"> std::hash<span class="t-dsc-small">&lt;std::shared_ptr&gt;</span></a></div><div><span class="t-mark">(C++11)</span></div></div>
</td>
<td>   hash support for <span class="t-lc"><strong class="selflink">std::shared_ptr</strong></span>  <br /> <span class="t-mark">(class template specialization)</span> <span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/memory/shared_ptr/dsc_hash&amp;action=edit">&#91;edit&#93;</a></span>
</td></tr>
</table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=5" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<p>The ownership of an object can only be shared with another <code>shared_ptr</code> by copy constructing or copy assigning its value to another <code>shared_ptr</code>. Constructing a new <code>shared_ptr</code> using the raw underlying pointer leads to undefined behavior.
</p>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;action=edit&amp;section=6" title="Edit section: Implementation notes">edit</a>]</span> <span class="mw-headline" id="Implementation_notes">Implementation notes</span></h3>
<p>In a typical implementation, <span class="t-lc"><strong class="selflink">std::shared_ptr</strong></span> holds only two pointers:
</p>
<ul><li> a pointer to the managed object
</li><li> a pointer to <i>control block</i>
</li></ul>
<p>The control block is a dynamically-allocated object that holds:
</p>
<ul><li> either a pointer to the managed object or the managed object itself
</li><li> the deleter (type-erased)
</li><li> the allocator (type-erased)
</li><li> the number of <code>shared_ptr</code>s that own the managed object
</li><li> the number of <code>weak_ptr</code>s that refer to the managed object
</li></ul>
<p>When <code>shared_ptr</code> is created by calling <span class="t-lc"><a href="shared_ptr/make_shared.html" title="cpp/memory/shared ptr/make shared">std::make_shared</a></span> or <span class="t-lc"><a href="shared_ptr/allocate_shared.html" title="cpp/memory/shared ptr/allocate shared">std::allocate_shared</a></span>, the memory for both the control block and the managed object is created with a single allocation. The managed object is constructed in-place in a data member of the control block. When <code>shared_ptr</code> is created via one of the <code>shared_ptr</code> constructors, the managed object and the control block must be allocated separately.  In this case, the control block stores a pointer to the managed object.
</p><p>The pointer held by the <code>shared_ptr</code> directly is the one returned by <a href="shared_ptr/get.html" title="cpp/memory/shared ptr/get"><code>get()</code></a>, while the pointer/object held by the control block is the one that will be deleted when the number of shared owners reaches zero.  These pointers are not necessarily equal.
</p><p>The destructor of <code>shared_ptr</code> decrements the number of shared owners of the control block. If that counter reaches zero, the control block calls the destructor of the managed object. The control block does not deallocate itself until the <span class="t-lc"><a href="weak_ptr.html" title="cpp/memory/weak ptr">std::weak_ptr</a></span> counter reaches zero as well.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 7458/1000000
Post-expand include size: 202347/2097152 bytes
Template argument size: 44069/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:2177-0!*!0!!en!*!* and timestamp 20130710012919 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;oldid=63345">http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;oldid=63345</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id='catlinks' class='catlinks catlinks-allhidden'></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        <div id="cpp-footer-base" class="noprint">
            <div id="footer">
                        <div id="cpp-navigation">
            <h5>Navigation</h5>
            <ul>
<li id="n-recentchanges"><a href="http://en.cppreference.com/w/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-FAQ"><a href="http://en.cppreference.com/w/Cppreference:FAQ">FAQ</a></li><li id="n-Store"><a href="http://www.cppreference.com/store" rel="nofollow">Store</a></li><li id="n-Offline-version"><a href="http://en.cppreference.com/w/Cppreference:Archives">Offline version</a></li>            </ul>
        </div>
                        <div id="cpp-toolbox">
            <h5><span>Toolbox</span><a href="#"></a></h5>
            <ul>
<li id="t-whatlinkshere"><a href="http://en.cppreference.com/w/Special:WhatLinksHere/cpp/memory/shared_ptr" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="http://en.cppreference.com/w/Special:RecentChangesLinked/cpp/memory/shared_ptr" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="http://upload.cppreference.com/w/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="http://en.cppreference.com/w/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;printable=yes" rel="alternate">Printable version</a></li><li id="t-permalink"><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/memory/shared_ptr&amp;oldid=63345" title="Permanent link to this revision of the page">Permanent link</a></li>            </ul>
        </div>
                        <div id="cpp-languages">
            <div><ul><li>In other languages</li></ul></div>
            <div><ul>
<li class="interwiki-de"><a href="http://de.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="de" hreflang="de">Deutsch</a></li><li class="interwiki-es"><a href="http://es.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="es" hreflang="es">Español</a></li><li class="interwiki-fr"><a href="http://fr.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="fr" hreflang="fr">Français</a></li><li class="interwiki-it"><a href="http://it.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="it" hreflang="it">Italiano</a></li><li class="interwiki-ja"><a href="http://ja.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="ja" hreflang="ja">日本語</a></li><li class="interwiki-pt"><a href="http://pt.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="pt" hreflang="pt">Português</a></li><li class="interwiki-ru"><a href="http://ru.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="ru" hreflang="ru">Русский</a></li><li class="interwiki-zh"><a href="http://zh.cppreference.com/w/cpp/memory/shared_ptr" title="cpp/memory/shared ptr" lang="zh" hreflang="zh">中文</a></li>            </ul></div>
        </div>
            <ul id="footer-info">
                                    <li id="footer-info-lastmod"> This page was last modified on 9 July 2013, at 18:29.</li>
                                    <li id="footer-info-viewcount">This page has been accessed 17,384 times.</li>
                            </ul>
                    <ul id="footer-places">
                                    <li id="footer-places-privacy"><a href="http://en.cppreference.com/w/Cppreference:Privacy_policy" title="Cppreference:Privacy policy">Privacy policy</a></li>
                                    <li id="footer-places-about"><a href="http://en.cppreference.com/w/Cppreference:About" title="Cppreference:About">About cppreference.com</a></li>
                                    <li id="footer-places-disclaimer"><a href="http://en.cppreference.com/w/Cppreference:General_disclaimer" title="Cppreference:General disclaimer">Disclaimers</a></li>
                            </ul>
                                    <ul id="footer-icons" class="noprint">
                                    <li id="footer-poweredbyico">
                                            <a href="http://www.mediawiki.org/"><img src="../../../mwiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>                                            <a href="http://qbnz.com/highlighter/"><img src="../../../../upload.cppreference.com/mwiki/images/2/2b/powered_by_geshi_88x31.png" alt="Powered by GeSHi" height="31" width="88" /></a>                                        </li>
                                </ul>
                        <div style="clear:both">
            </div>
            </div>
        </div>
        <!-- /footer -->
        <script src="../../../mwiki/loadac2a.php?debug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<script src="../../../mwiki/load345b.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":0,"showtoolbar":1,"skin":"cppreference2","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0
	,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-js:4:3740695a1552aee37d594967bd36f869 */
}
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-2828341-1']);
_gaq.push(['_setDomainName', 'cppreference.com']);
_gaq.push(['_trackPageview']);
</script><!-- Served in 0.050 secs. -->        
	</body>
<!-- Cached 20130710014644 -->

<!-- Mirrored from en.cppreference.com/w/cpp/memory/shared_ptr by HTTrack Website Copier/3.x [XR&CO'2010], Mon, 29 Jul 2013 02:07:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
